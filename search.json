[{"title":"å®æµ‹ Gemini 3 Proï¼šä¸€è¡Œ Prompt ç”Ÿæˆ WebGL + MediaPipe æ‰‹åŠ¿äº¤äº’ç²’å­ç³»ç»Ÿ","url":"/2025/11/30/Gemini-3-pro-%E5%88%9B%E5%BB%BA%E7%82%AB%E9%85%B7%E7%B2%92%E5%AD%90%E4%BA%A4%E4%BA%92%E7%B3%BB%E7%BB%9F/","content":"å‰è¨€æœ€è¿‘ Gemini 3 Pro å‘å¸ƒï¼Œå¬è¯´åœ¨å¤šæ¨¡æ€ç†è§£å’Œä»£ç ç”Ÿæˆä¸Šæœ‰äº†è´¨çš„é£è·ƒã€‚ä½œä¸ºä¸€ä¸ªçƒ­è¡·äº AI Coding çš„å¼€å‘è€…ï¼Œæˆ‘ä¸€ç›´æƒ³åšä¸€ä¸ªåŸºäºæ‰‹åŠ¿æ§åˆ¶çš„ 3D ç²’å­ç³»ç»Ÿï¼Œä½†ä»¥å¾€å…‰æ˜¯é…ç½®ç¯å¢ƒã€è°ƒè¯• MediaPipe å’Œ Three.js çš„åæ ‡å¯¹é½å°±è¦èŠ±ä¸ŠåŠå¤©ã€‚\nä»Šå¤©ä½¿ç”¨Gemini 3åšä¸€ä¸ªæµ‹è¯•ï¼šä¸å†™ä¸€è¡Œä»£ç ï¼Œåªç»™ Promptï¼Œçœ‹ Gemini 3 Pro èƒ½å¦ç”Ÿæˆä¸€ä¸ªå•æ–‡ä»¶ã€æ— ä¾èµ–ï¼ˆCDNå¼•å…¥ï¼‰ã€é€»è¾‘é—­ç¯çš„ WebGL äº¤äº’åº”ç”¨ã€‚\nç»“æœä¸ä»…è·‘é€šäº†ï¼Œæ•ˆæœè¿˜å‡ºä¹æ„æ–™çš„å®Œæ•´ã€‚\nğŸ¨ æ•ˆæœå±•ç¤ºè¿™ä¸ªå•æ–‡ä»¶ HTML åŒ…å«äº†ä¸€å¥—å®Œæ•´çš„äº¤äº’ç³»ç»Ÿï¼š\n\nè§†è§‰ç››å®´ï¼š15,000 ä¸ªé«˜äº®ç²’å­ç»„æˆçš„ 3D æ˜Ÿäº‘ï¼Œæ”¯æŒâ€œå‘¼å¸â€åŠ¨æ•ˆã€‚\næ‰‹åŠ¿é­”æ³•ï¼šé€šè¿‡æ‘„åƒå¤´æ•æ‰æ‰‹éƒ¨ï¼Œå¼ å¼€æ‰‹æŒç²’å­çˆ†å‘æ‰©æ•£ï¼Œæ¡ç´§æ‹³å¤´ç²’å­èšåˆæˆé«˜èƒ½å…‰çƒã€‚\næ‰‹ç»˜è‡ªå®šä¹‰ï¼šåœ¨å±å¹•ä¸Šç”»ä»€ä¹ˆï¼Œç²’å­å°±å˜æˆä»€ä¹ˆå½¢çŠ¶ã€‚\nç»ç’ƒæ‹Ÿæ€ UIï¼šåŸºäº Tailwind CSS ç”Ÿæˆçš„ç°ä»£åŒ–åŠé€æ˜æ§åˆ¶é¢æ¿ã€‚\næ‰‹åŠ¿å¼€å…³ï¼šåœ¨é¢æ¿ä¸ŠåŠ ä¸Šæ‰‹åŠ¿è¯†åˆ«å¼€å…³ï¼Œå¼€å¯å¼€å…³åå†è¯†åˆ«æ‰‹åŠ¿\n\n\n\n\n\n\n\n\n\n\n\nå›¾1ï¼šèšåˆçŠ¶æ€ï¼ˆæ¡æ‹³ï¼‰\nå›¾2ï¼šæ‰©æ•£çŠ¶æ€ï¼ˆå¼ å¼€ï¼‰\n\n\nğŸ› ï¸ æ ¸å¿ƒä»£ç æ‹†è§£Gemini ç”Ÿæˆçš„ä»£ç ä¸ä»…è·‘å¾—é€šï¼Œè€Œä¸”æ¶æ„éå¸¸æ¸…æ™°ã€‚ä»¥ä¸‹æ˜¯æºç ä¸­å‡ ä¸ªè®©æˆ‘è§‰å¾—â€œå®ƒçœŸçš„æ‡‚ç¼–ç¨‹â€çš„äº®ç‚¹ã€‚\n1. ç‰©ç†æ¨¡æ‹Ÿä¸ Lerp æ’å€¼ç²’å­ä¸æ˜¯ç”Ÿç¡¬åœ°ç¬ç§»ï¼Œè€Œæ˜¯åŸºäºç‰©ç†çŠ¶æ€è¿›è¡Œå¹³æ»‘è¿‡æ¸¡ã€‚ä»£ç ä¸­ç»´æŠ¤äº† targetPositions (ç›®æ ‡å½¢çŠ¶) å’Œ currentPositions (å½“å‰ä½ç½®)ã€‚\nåœ¨ animate å¾ªç¯ä¸­ï¼Œå®ƒä½¿ç”¨äº†çº¿æ€§æ’å€¼ (Lerp) æ¥å®ç°ä¸æ»‘çš„å½¢å˜ï¼š\n// æ ¸å¿ƒåŠ¨ç”»å¾ªç¯ç‰‡æ®µ// force: æ‰‹åŠ¿å¼ å¼€ç¨‹åº¦ (0~1)// expansion: çˆ†ç‚¸ç³»æ•°let expansion = 0.35 + Math.pow(force, 0.5) * 1.5 + breathe; // è®¡ç®—ç›®æ ‡ä½ç½®ï¼ˆå åŠ äº†åŸºç¡€å½¢çŠ¶ã€æ•£å°„æ–¹å‘å’ŒæŠ–åŠ¨ï¼‰tx = (shapeX * expansion) + (sx * scatter) + jx;ty = (shapeY * expansion) + (sy * scatter) + jy;tz = (shapeZ * expansion) + (sz * scatter) + jz;// ä½¿ç”¨ Lerp å¹³æ»‘ç§»åŠ¨ç²’å­// speed è¿˜ä¼šæ ¹æ®æ‰‹åŠ¿åŠ›åº¦åŠ¨æ€è°ƒæ•´positions[ix] += (tx - positions[ix]) * speed;\n\n2. äºŒç»´æ‰‹ç»˜æ˜ å°„åˆ°ä¸‰ç»´ç©ºé—´è¿™æ˜¯æœ€è®©æˆ‘æƒŠå–œçš„åŠŸèƒ½ã€‚æˆ‘è¦æ±‚æœ‰ä¸€ä¸ªâ€œæ‰‹ç»˜æ¿â€ï¼Œå®ƒç”Ÿæˆäº†ä»¥ä¸‹é€»è¾‘ï¼š\n\nåˆ›å»ºä¸€ä¸ªéšè—çš„ 2D Canvasã€‚\nè¯»å–ç”¨æˆ·ç»˜åˆ¶çš„åƒç´ æ•°æ® (getImageData)ã€‚\néå†åƒç´ ï¼Œæå– Alpha &gt; 128 çš„éé€æ˜ç‚¹ã€‚\nåæ ‡é‡æ˜ å°„ï¼šå°† 2D å±å¹•åæ ‡ (x, y) å½’ä¸€åŒ–å¹¶æ˜ å°„åˆ° 3D ä¸–ç•Œåæ ‡ (x, y, 0)ã€‚\n\n\n\n// åƒç´ æå–ä¸åæ ‡æ˜ å°„é€»è¾‘const imgData = drawingCtx.getImageData(0, 0, width, height).data;const points = [];const step = 8; // é‡‡æ ·æ­¥é•¿ï¼Œä¼˜åŒ–æ€§èƒ½for (let y = 0; y &lt; height; y += step) &#123;    for (let x = 0; x &lt; width; x += step) &#123;        const alpha = imgData[(y * width + x) * 4 + 3];        // åªæœ‰ç»˜åˆ¶è¿‡çš„ç‚¹æ‰ä¼šè¢«è½¬åŒ–ä¸ºç²’å­        if (alpha &gt; 128) &#123;            // å½’ä¸€åŒ–åæ ‡ (-1 to 1) å¹¶æ”¾å¤§é€‚åº” 3D åœºæ™¯            const nX = (x / width) * 2 - 1;            const nY = -(y / height) * 2 + 1;            points.push(&#123; x: nX * 40, y: nY * 25, z: 0 &#125;);        &#125;    &#125;&#125;\n\n3. MediaPipe æ‰‹åŠ¿å½’ä¸€åŒ–æ‰‹åŠ¿è¯†åˆ«æœ€æ€•æŠ–åŠ¨ã€‚ä»£ç ä¸­é€šè¿‡è®¡ç®—æ‹‡æŒ‡å’Œé£ŸæŒ‡çš„æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œå¹¶åŠ å…¥äº†ä¸€ä¸ªç®€å•çš„ä½é€šæ»¤æ³¢å™¨ (Low-pass Filter) æ¥å¹³æ»‘æ•°å€¼ï¼š\n// ç®€å•çš„å¹³æ»‘ç®—æ³•ï¼Œé¿å…æ•°å€¼è·³å˜// state.diffusionForce æ˜¯ä¸Šä¸€å¸§çš„å€¼ï¼Œval æ˜¯å½“å‰å¸§çš„æ£€æµ‹å€¼state.diffusionForce = state.diffusionForce * 0.8 + val * 0.2;\n\n\n\nğŸ’» æºç åˆ†äº«è¿™å°±æ˜¯ Gemini 3 Pro ç”Ÿæˆçš„å®Œæ•´ä»£ç ã€‚ä½ å¯ä»¥ç›´æ¥å¤åˆ¶ä¿å­˜ä¸º index.htmlï¼Œç”¨æµè§ˆå™¨æ‰“å¼€å³å¯ä½“éªŒï¼ˆéœ€å…è®¸æ‘„åƒå¤´æƒé™ï¼‰ã€‚\n\nä¾èµ–è¯´æ˜ï¼šä»£ç é€šè¿‡ CDN å¼•å…¥äº† Three.js, MediaPipe å’Œ Tailwind CSSï¼Œæ— éœ€æœ¬åœ° npm installã€‚\n\n\nğŸ”½ ç‚¹å‡»å±•å¼€/æŠ˜å å®Œæ•´æºä»£ç  (index.html)\n\n&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;    &lt;title&gt;WebGestic - æ‰‹åŠ¿æ§åˆ¶ç²’å­ç³»ç»Ÿ&lt;/title&gt;    &lt;script src=&quot;[https://cdn.tailwindcss.com](https://cdn.tailwindcss.com)&quot;&gt;&lt;/script&gt;    &lt;script src=&quot;[https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js](https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js)&quot;&gt;&lt;/script&gt;    &lt;script src=&quot;[https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js](https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js)&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;    &lt;script src=&quot;[https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js](https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js)&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;    &lt;script src=&quot;[https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js](https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js)&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;    &lt;script src=&quot;[https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js](https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js)&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;    &lt;style&gt;        body &#123; margin: 0; overflow: hidden; background-color: #000; font-family: &#x27;Segoe UI&#x27;, Tahoma, Geneva, Verdana, sans-serif; &#125;        #canvas-container &#123; position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1; &#125;                /* Glassmorphism UI */        .glass-panel &#123;            background: rgba(255, 255, 255, 0.05);            backdrop-filter: blur(10px);            -webkit-backdrop-filter: blur(10px);            border: 1px solid rgba(255, 255, 255, 0.1);            border-radius: 16px;            color: white;            transition: opacity 0.5s ease, transform 0.5s ease;        &#125;        /* Drawing Canvas */        #drawing-canvas &#123;            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10;            cursor: crosshair; display: none; background: rgba(0,0,0,0.8);        &#125;        /* ... (å…¶ä½™ CSS æ ·å¼ä¿æŒåŸæ ·ï¼Œä¸ºç¯‡å¹…è€ƒè™‘æ­¤å¤„ç•¥å»éƒ¨åˆ†åŸºç¡€æ ·å¼) ... */        .loader &#123; border: 4px solid rgba(255, 255, 255, 0.1); border-left-color: #4f46e5; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; &#125;        @keyframes spin &#123; 0% &#123; transform: rotate(0deg); &#125; 100% &#123; transform: rotate(360deg); &#125; &#125;        .ui-hidden &#123; opacity: 0; transform: translateX(100px); pointer-events: none; &#125;        .input_video &#123; display: none; &#125;    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;    &lt;div id=&quot;loader-overlay&quot; class=&quot;fixed inset-0 z-50 flex flex-col items-center justify-center bg-black transition-opacity duration-500&quot;&gt;        &lt;div class=&quot;loader mb-4&quot;&gt;&lt;/div&gt;        &lt;div class=&quot;text-white text-lg tracking-widest animate-pulse&quot;&gt;æ­£åœ¨åˆå§‹åŒ–è§†è§‰å¼•æ“...&lt;/div&gt;        &lt;div class=&quot;text-gray-500 text-sm mt-2&quot;&gt;è¯·å…è®¸æ‘„åƒå¤´æƒé™&lt;/div&gt;    &lt;/div&gt;    &lt;div id=&quot;canvas-container&quot;&gt;&lt;/div&gt;    &lt;video class=&quot;input_video&quot;&gt;&lt;/video&gt;    &lt;canvas id=&quot;drawing-canvas&quot;&gt;&lt;/canvas&gt;    &lt;div id=&quot;drawing-controls&quot; class=&quot;fixed top-4 left-1/2 transform -translate-x-1/2 z-20 hidden flex gap-4 glass-panel p-2&quot;&gt;        &lt;button id=&quot;finish-draw-btn&quot; class=&quot;bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg transition&quot;&gt;ç”Ÿæˆç²’å­&lt;/button&gt;        &lt;button id=&quot;clear-draw-btn&quot; class=&quot;bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg transition&quot;&gt;æ¸…é™¤&lt;/button&gt;        &lt;button id=&quot;cancel-draw-btn&quot; class=&quot;bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg transition&quot;&gt;å–æ¶ˆ&lt;/button&gt;    &lt;/div&gt;    &lt;div id=&quot;fs-tip&quot; class=&quot;fixed bottom-10 left-1/2 transform -translate-x-1/2 text-white/50 text-sm z-30 tracking-widest uppercase hidden transition-opacity duration-1000&quot;&gt;å·²è¿›å…¥å…¨å±æ¨¡å¼ - æŒ‰ ESC é€€å‡º&lt;/div&gt;    &lt;div id=&quot;ui-panel&quot; class=&quot;fixed top-4 right-4 w-80 glass-panel p-6 z-20 max-h-[90vh] overflow-y-auto&quot;&gt;        &lt;h1 class=&quot;text-2xl font-bold mb-1 bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent&quot;&gt;WebGestic&lt;/h1&gt;        &lt;p class=&quot;text-xs text-gray-400 mb-6&quot;&gt;åŸºäº MediaPipe &amp; WebGL&lt;/p&gt;        &lt;div class=&quot;flex items-center justify-between mb-4 bg-white/5 p-3 rounded-lg border border-white/10&quot;&gt;            &lt;span class=&quot;text-sm font-semibold text-gray-300&quot;&gt;æ‰‹åŠ¿è¯†åˆ«å¼€å…³&lt;/span&gt;            &lt;label class=&quot;relative inline-flex items-center cursor-pointer&quot;&gt;                &lt;input type=&quot;checkbox&quot; id=&quot;gesture-toggle&quot; class=&quot;sr-only peer&quot;&gt;                &lt;div class=&quot;w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[&#x27;&#x27;] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600&quot;&gt;&lt;/div&gt;            &lt;/label&gt;        &lt;/div&gt;        &lt;div class=&quot;flex flex-col gap-2 mb-6 bg-black/30 p-2 rounded-lg&quot;&gt;            &lt;div class=&quot;flex items-center gap-2&quot;&gt;                &lt;div id=&quot;hand-status-dot&quot; class=&quot;w-3 h-3 rounded-full bg-gray-600&quot;&gt;&lt;/div&gt;                &lt;span id=&quot;hand-status-text&quot; class=&quot;text-xs font-mono text-gray-500&quot;&gt;æ£€æµ‹å·²å…³é—­&lt;/span&gt;            &lt;/div&gt;            &lt;div id=&quot;gesture-text&quot; class=&quot;text-xs font-mono text-purple-300 pl-5 h-4&quot;&gt;&lt;/div&gt;        &lt;/div&gt;        &lt;div class=&quot;mb-6&quot;&gt;            &lt;label class=&quot;block text-sm font-semibold mb-3 text-purple-300&quot;&gt;ç²’å­å½¢æ€&lt;/label&gt;            &lt;div class=&quot;grid grid-cols-3 gap-2&quot;&gt;                &lt;button onclick=&quot;setShape(&#x27;nebula&#x27;)&quot; class=&quot;bg-white/10 hover:bg-white/20 py-2 rounded text-xs active border border-white/20 text-white&quot;&gt;æ˜Ÿäº‘&lt;/button&gt;                &lt;button onclick=&quot;setShape(&#x27;heart&#x27;)&quot; class=&quot;bg-white/10 hover:bg-white/20 py-2 rounded text-xs border border-transparent text-white&quot;&gt;çˆ±å¿ƒ&lt;/button&gt;                &lt;button onclick=&quot;toggleDrawingMode()&quot; class=&quot;bg-gradient-to-r from-blue-500 to-purple-600 hover:opacity-90 py-2 rounded text-xs font-bold shadow-lg text-white&quot;&gt;æ‰‹ç»˜è‡ªå®šä¹‰&lt;/button&gt;            &lt;/div&gt;        &lt;/div&gt;        &lt;div class=&quot;space-y-5&quot;&gt;            &lt;div&gt;                &lt;div class=&quot;flex justify-between mb-1&quot;&gt;                    &lt;label class=&quot;text-xs text-gray-300&quot;&gt;ç²’å­å¯†åº¦&lt;/label&gt;                    &lt;span id=&quot;density-val&quot; class=&quot;text-xs text-gray-400&quot;&gt;15000&lt;/span&gt;                &lt;/div&gt;                &lt;input type=&quot;range&quot; id=&quot;density-slider&quot; min=&quot;5000&quot; max=&quot;30000&quot; step=&quot;1000&quot; value=&quot;15000&quot; class=&quot;w-full&quot;&gt;            &lt;/div&gt;            &lt;div&gt;                &lt;div class=&quot;flex justify-between mb-1&quot;&gt;                    &lt;label class=&quot;text-xs text-gray-300&quot;&gt;æ‰©æ•£åŠ›åº¦&lt;/label&gt;                    &lt;span id=&quot;diffuse-val&quot; class=&quot;text-xs text-gray-400&quot;&gt;1.5&lt;/span&gt;                &lt;/div&gt;                &lt;input type=&quot;range&quot; id=&quot;diffuse-slider&quot; min=&quot;0.5&quot; max=&quot;3.0&quot; step=&quot;0.1&quot; value=&quot;1.5&quot; class=&quot;w-full&quot;&gt;            &lt;/div&gt;            &lt;div&gt;                &lt;label class=&quot;block text-xs font-semibold mb-2 text-gray-300&quot;&gt;ç²’å­é¢œè‰²&lt;/label&gt;                &lt;div class=&quot;flex gap-2&quot;&gt;                    &lt;input type=&quot;color&quot; id=&quot;color-picker&quot; value=&quot;#00ffff&quot; class=&quot;h-8 w-12 bg-transparent border-0 cursor-pointer&quot;&gt;                    &lt;div class=&quot;text-xs text-gray-400 flex items-center&quot;&gt;ç‚¹å‡»é€‰æ‹©ä¸»è‰²è°ƒ&lt;/div&gt;                &lt;/div&gt;            &lt;/div&gt;            &lt;div class=&quot;pt-4 border-t border-white/10&quot;&gt;                &lt;button id=&quot;fs-btn&quot; class=&quot;w-full bg-white/10 hover:bg-white/20 text-white py-2 rounded text-sm font-semibold transition flex items-center justify-center gap-2&quot;&gt;                    è¿›å…¥å…¨å±æ²‰æµ¸æ¨¡å¼                &lt;/button&gt;            &lt;/div&gt;        &lt;/div&gt;                &lt;div class=&quot;mt-6 pt-4 border-t border-white/10&quot;&gt;            &lt;h3 class=&quot;text-sm font-semibold text-purple-300 mb-2&quot;&gt;äº¤äº’æŒ‡å—&lt;/h3&gt;            &lt;ul class=&quot;text-xs text-gray-400 space-y-1 list-disc pl-4&quot;&gt;                &lt;li&gt;&lt;span class=&quot;text-white&quot;&gt;å¼€å…³&lt;/span&gt;ï¼šå¼€å¯é¡¶éƒ¨å¼€å…³å¯ç”¨æ£€æµ‹&lt;/li&gt;                &lt;li&gt;&lt;span class=&quot;text-white&quot;&gt;å¼ å¼€äº”æŒ‡&lt;/span&gt;ï¼šç²’å­å…¨å±é™æ­¢æ‰©æ•£&lt;/li&gt;                &lt;li&gt;&lt;span class=&quot;text-white&quot;&gt;æ¡ç´§æ‹³å¤´&lt;/span&gt;ï¼šèšåˆæˆå‘å…‰èƒ½é‡çƒ&lt;/li&gt;            &lt;/ul&gt;        &lt;/div&gt;    &lt;/div&gt;    &lt;script&gt;        // --- æ ¸å¿ƒé€»è¾‘éƒ¨åˆ† (Global Variables) ---        let scene, camera, renderer, particles, geometry, material;        const state = &#123;            targetPositions: [], currentPositions: [], scatterDirections: [],            count: 15000, baseColor: new THREE.Color(0x00ffff),            diffusionForce: 0, isHandPresent: false, gestureEnabled: false,            shapeType: &#x27;nebula&#x27;, diffusionMultiplier: 1.5        &#125;;        // DOM Elements        const uiPanel = document.getElementById(&#x27;ui-panel&#x27;);        const drawingCanvas = document.getElementById(&#x27;drawing-canvas&#x27;);        const drawingCtx = drawingCanvas.getContext(&#x27;2d&#x27;);        const drawingControls = document.getElementById(&#x27;drawing-controls&#x27;);        let isDrawing = false, isDrawingMode = false;        window.onload = function() &#123;            initThree();            createParticles();            initMediaPipe();            animate();            setupEventListeners();            window.addEventListener(&#x27;resize&#x27;, onWindowResize, false);            document.getElementById(&#x27;canvas-container&#x27;).addEventListener(&#x27;dblclick&#x27;, toggleFullscreen);            resizeDrawingCanvas();        &#125;;        function initThree() &#123;            const container = document.getElementById(&#x27;canvas-container&#x27;);            scene = new THREE.Scene();            scene.fog = new THREE.FogExp2(0x000000, 0.003);            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);            camera.position.z = 50;            renderer = new THREE.WebGLRenderer(&#123; antialias: false, alpha: true &#125;);            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));            renderer.setSize(window.innerWidth, window.innerHeight);            container.appendChild(renderer.domElement);        &#125;        function createParticles() &#123;            if (particles) scene.remove(particles);            geometry = new THREE.BufferGeometry();            state.targetPositions = new Float32Array(state.count * 3);            state.currentPositions = new Float32Array(state.count * 3);            state.scatterDirections = new Float32Array(state.count * 3);             const colors = new Float32Array(state.count * 3);            generateShape(state.shapeType);            for (let i = 0; i &lt; state.count * 3; i++) &#123;                state.currentPositions[i] = (Math.random() - 0.5) * 100;                state.scatterDirections[i] = (Math.random() - 0.5);                 colors[i] = state.baseColor.r;            &#125;            geometry.setAttribute(&#x27;position&#x27;, new THREE.BufferAttribute(state.currentPositions, 3));            geometry.setAttribute(&#x27;color&#x27;, new THREE.BufferAttribute(colors, 3));                        // Texture for glow            const canvas = document.createElement(&#x27;canvas&#x27;); canvas.width = 32; canvas.height = 32;            const context = canvas.getContext(&#x27;2d&#x27;);            const gradient = context.createRadialGradient(16, 16, 0, 16, 16, 16);            gradient.addColorStop(0, &#x27;rgba(255, 255, 255, 1)&#x27;);             gradient.addColorStop(1, &#x27;rgba(0,0,0,0)&#x27;);            context.fillStyle = gradient; context.fillRect(0, 0, 32, 32);            const texture = new THREE.Texture(canvas); texture.needsUpdate = true;            material = new THREE.PointsMaterial(&#123;                size: 1.0, map: texture, vertexColors: true,                blending: THREE.AdditiveBlending, depthWrite: false, transparent: true, opacity: 0.9            &#125;);            particles = new THREE.Points(geometry, material);            scene.add(particles);        &#125;        // --- å½¢çŠ¶ç”Ÿæˆå™¨ ---        function generateShape(type, customPoints = null) &#123;            state.shapeType = type;            const positions = state.targetPositions;            for (let i = 0; i &lt; state.count; i++) &#123;                let x, y, z;                if (type === &#x27;nebula&#x27;) &#123;                    const r = 25 * Math.cbrt(Math.random());                    const theta = Math.random() * 2 * Math.PI;                    const phi = Math.acos(2 * Math.random() - 1);                    x = r * Math.sin(phi) * Math.cos(theta);                    y = r * Math.sin(phi) * Math.sin(theta);                    z = r * Math.cos(phi);                &#125; else if (type === &#x27;heart&#x27;) &#123;                    const t = Math.random() * Math.PI * 2;                    const r = Math.cbrt(Math.random()); const s = 1.2;                     x = 16 * Math.pow(Math.sin(t), 3) * s * r;                    y = (13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t)) * s * r;                    z = (Math.random() - 0.5) * 15 * r;                 &#125; else if (type === &#x27;custom&#x27; &amp;&amp; customPoints &amp;&amp; customPoints.length &gt; 0) &#123;                    const p = customPoints[i % customPoints.length];                    x = p.x + (Math.random() - 0.5);                    y = p.y + (Math.random() - 0.5);                    z = (Math.random() - 0.5) * 5;                 &#125;                positions[i * 3] = x; positions[i * 3 + 1] = y; positions[i * 3 + 2] = z;            &#125;        &#125;        // --- åŠ¨ç”»å¾ªç¯ ---        function animate() &#123;            requestAnimationFrame(animate);            const positions = geometry.attributes.position.array;            const colors = geometry.attributes.color.array;            const force = state.diffusionForce;             const multiplier = state.diffusionMultiplier * 50;             const time = Date.now() * 0.001;            const breathe = (force &gt; 0.2 &amp;&amp; force &lt; 0.8) ? 0 : Math.sin(time * 2) * 0.02;            let jitter = (force &lt; 0.2) ? 0.15 : 0;            if (force &lt; 0.2) &#123; particles.rotation.y += 0.08; particles.rotation.z += 0.02; &#125;            else &#123; particles.rotation.y += 0.002; particles.rotation.z *= 0.95; &#125;            for (let i = 0; i &lt; state.count; i++) &#123;                const ix = i * 3; const iy = i * 3 + 1; const iz = i * 3 + 2;                let expansion = 0.35 + Math.pow(force, 0.5) * 1.5 + breathe;                 let scatter = (force &gt; 0.3) ? (force - 0.3) * multiplier : 0;                let jx = 0, jy = 0, jz = 0;                if (jitter &gt; 0) &#123; jx = (Math.random()-0.5)*jitter; jy = (Math.random()-0.5)*jitter; jz = (Math.random()-0.5)*jitter; &#125;                let tx = (state.targetPositions[ix] * expansion) + (state.scatterDirections[ix] * scatter) + jx;                let ty = (state.targetPositions[iy] * expansion) + (state.scatterDirections[iy] * scatter) + jy;                let tz = (state.targetPositions[iz] * expansion) + (state.scatterDirections[iz] * scatter) + jz;                const speed = (force &gt; 0.5) ? 0.15 : 0.08;                positions[ix] += (tx - positions[ix]) * speed;                positions[iy] += (ty - positions[iy]) * speed;                positions[iz] += (tz - positions[iz]) * speed;                // Color Logic                let r, g, b;                if (force &lt; 0.3) &#123;                    const heat = (1 - force/0.3);                    r = state.baseColor.r + heat * 0.8; g = state.baseColor.g + heat * 0.8; b = state.baseColor.b + heat * 0.8;                &#125; else &#123;                    const pulse = Math.sin(time + i * 0.01) * 0.1;                    r = state.baseColor.r + pulse; g = state.baseColor.g + pulse; b = state.baseColor.b + pulse;                &#125;                colors[ix] = r; colors[iy] = g; colors[iz] = b;            &#125;            geometry.attributes.position.needsUpdate = true;            geometry.attributes.color.needsUpdate = true;            renderer.render(scene, camera);        &#125;        // --- MediaPipe Setup ---        function initMediaPipe() &#123;            const videoElement = document.querySelector(&#x27;.input_video&#x27;);            const hands = new Hands(&#123;locateFile: (file) =&gt; `https://cdn.jsdelivr.net/npm/@mediapipe/hands/$&#123;file&#125;`&#125;);            hands.setOptions(&#123; maxNumHands: 1, modelComplexity: 1, minDetectionConfidence: 0.5, minTrackingConfidence: 0.5 &#125;);            hands.onResults(onHandResults);            const camera = new Camera(videoElement, &#123;                onFrame: async () =&gt; &#123; if (state.gestureEnabled) await hands.send(&#123;image: videoElement&#125;); &#125;,                width: 640, height: 480            &#125;);            camera.start().then(() =&gt; &#123;                document.getElementById(&#x27;loader-overlay&#x27;).style.opacity = &#x27;0&#x27;;                setTimeout(() =&gt; document.getElementById(&#x27;loader-overlay&#x27;).style.display = &#x27;none&#x27;, 500);            &#125;);        &#125;        function onHandResults(results) &#123;            if (!state.gestureEnabled) return;            const handDot = document.getElementById(&#x27;hand-status-dot&#x27;);            const handText = document.getElementById(&#x27;hand-status-text&#x27;);            const gestureText = document.getElementById(&#x27;gesture-text&#x27;);            if (results.multiHandLandmarks &amp;&amp; results.multiHandLandmarks.length &gt; 0) &#123;                state.isHandPresent = true;                handDot.className = &quot;w-3 h-3 rounded-full bg-green-500 animate-pulse&quot;;                handText.innerText = &quot;å·²è¿æ¥è§†è§‰æ§åˆ¶&quot;;                handText.className = &quot;text-xs font-mono text-green-400&quot;;                                const landmarks = results.multiHandLandmarks[0];                const dx = landmarks[0].x - landmarks[12].x;                const dy = landmarks[0].y - landmarks[12].y;                const palmDist = Math.sqrt(dx*dx + dy*dy);                                let val = (palmDist - 0.15) * 4.5;                val = Math.max(0, Math.min(1, val));                state.diffusionForce = state.diffusionForce * 0.8 + val * 0.2; // Smooth                if (val &gt; 0.6) &#123;                    gestureText.innerText = &quot;æ‰‹åŠ¿: å¼ å¼€ (çˆ†å‘)&quot;;                    gestureText.className = &quot;text-xs font-mono text-yellow-400 pl-5 h-4&quot;;                &#125; else &#123;                    gestureText.innerText = &quot;æ‰‹åŠ¿: æ¡æ‹³ (å……èƒ½)&quot;;                    gestureText.className = &quot;text-xs font-mono text-white pl-5 h-4 animate-pulse&quot;;                &#125;            &#125; else &#123;                state.isHandPresent = false;                state.diffusionForce = state.diffusionForce * 0.9;                handDot.className = &quot;w-3 h-3 rounded-full bg-red-500&quot;;                handText.innerText = &quot;ç­‰å¾…æ‰‹éƒ¨...&quot;;                handText.className = &quot;text-xs font-mono text-white&quot;;                gestureText.innerText = &quot;&quot;;            &#125;        &#125;        // --- Event Listeners &amp; Drawing Logic ---        function setupEventListeners() &#123;            document.getElementById(&#x27;density-slider&#x27;).addEventListener(&#x27;input&#x27;, (e) =&gt; &#123;                const val = parseInt(e.target.value); document.getElementById(&#x27;density-val&#x27;).innerText = val;                clearTimeout(window.resizeTimer); window.resizeTimer = setTimeout(() =&gt; &#123; state.count = val; createParticles(); &#125;, 100);            &#125;);            document.getElementById(&#x27;diffuse-slider&#x27;).addEventListener(&#x27;input&#x27;, (e) =&gt; &#123;                state.diffusionMultiplier = parseFloat(e.target.value); document.getElementById(&#x27;diffuse-val&#x27;).innerText = state.diffusionMultiplier.toFixed(1);            &#125;);            document.getElementById(&#x27;color-picker&#x27;).addEventListener(&#x27;input&#x27;, (e) =&gt; state.baseColor.set(e.target.value));            document.getElementById(&#x27;gesture-toggle&#x27;).addEventListener(&#x27;change&#x27;, (e) =&gt; &#123;                state.gestureEnabled = e.target.checked;                if(!state.gestureEnabled) &#123; state.diffusionForce = 0; document.getElementById(&#x27;hand-status-text&#x27;).innerText = &quot;æ£€æµ‹å·²å…³é—­&quot;; &#125;                else &#123; document.getElementById(&#x27;hand-status-text&#x27;).innerText = &quot;æ­£åœ¨å¯åŠ¨...&quot;; &#125;            &#125;);            // ... Drawing Events (Mapped in full code) ...            document.getElementById(&#x27;finish-draw-btn&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;                const width = drawingCanvas.width; const height = drawingCanvas.height;                const imgData = drawingCtx.getImageData(0, 0, width, height).data;                const points = []; const step = 8;                for (let y = 0; y &lt; height; y += step) &#123;                    for (let x = 0; x &lt; width; x += step) &#123;                        if (imgData[(y * width + x) * 4 + 3] &gt; 128) &#123;                            points.push(&#123; x: ((x/width)*2-1)*40, y: (-(y/height)*2+1)*25, z: 0 &#125;);                        &#125;                    &#125;                &#125;                if (points.length &gt; 0) &#123; generateShape(&#x27;custom&#x27;, points); toggleDrawingMode(); &#125;            &#125;);        &#125;                function onWindowResize() &#123;            camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix();            renderer.setSize(window.innerWidth, window.innerHeight); resizeDrawingCanvas();        &#125;        function resizeDrawingCanvas() &#123; drawingCanvas.width = window.innerWidth; drawingCanvas.height = window.innerHeight; &#125;        function toggleDrawingMode() &#123;            isDrawingMode = !isDrawingMode;            drawingCanvas.style.display = isDrawingMode ? &#x27;block&#x27; : &#x27;none&#x27;;            drawingControls.classList.toggle(&#x27;hidden&#x27;);            if(isDrawingMode) &#123; drawingCtx.clearRect(0,0,drawingCanvas.width,drawingCanvas.height); drawingCtx.strokeStyle=&quot;white&quot;; drawingCtx.lineWidth=15; drawingCtx.lineCap=&quot;round&quot;; &#125;        &#125;        // Drawing pointers        drawingCanvas.addEventListener(&#x27;mousedown&#x27;, startDraw); drawingCanvas.addEventListener(&#x27;mousemove&#x27;, draw); drawingCanvas.addEventListener(&#x27;mouseup&#x27;, () =&gt; isDrawing=false);        function startDraw(e) &#123; isDrawing=true; draw(e); &#125;        function draw(e) &#123; if(!isDrawing) return; const rect=drawingCanvas.getBoundingClientRect(); drawingCtx.lineTo(e.clientX-rect.left, e.clientY-rect.top); drawingCtx.stroke(); drawingCtx.beginPath(); drawingCtx.moveTo(e.clientX-rect.left, e.clientY-rect.top); &#125;                // Fullscreen Logic        const fsTip = document.getElementById(&#x27;fs-tip&#x27;);        function toggleFullscreen() &#123;            if (!uiPanel.classList.contains(&#x27;ui-hidden&#x27;)) &#123;                uiPanel.classList.add(&#x27;ui-hidden&#x27;); fsTip.style.display=&#x27;block&#x27;; setTimeout(()=&gt;fsTip.style.opacity=&#x27;1&#x27;,10); setTimeout(()=&gt;fsTip.style.opacity=&#x27;0&#x27;,3000);                document.documentElement.requestFullscreen().catch(()=&gt;&#123;&#125;);            &#125; else &#123;                uiPanel.classList.remove(&#x27;ui-hidden&#x27;); fsTip.style.display=&#x27;none&#x27;;                if(document.exitFullscreen) document.exitFullscreen().catch(()=&gt;&#123;&#125;);            &#125;        &#125;        document.getElementById(&#x27;fs-btn&#x27;).addEventListener(&#x27;click&#x27;, toggleFullscreen);        document.addEventListener(&#x27;keydown&#x27;, (e) =&gt; &#123; if (e.key === &#x27;Escape&#x27;) &#123; uiPanel.classList.remove(&#x27;ui-hidden&#x27;); fsTip.style.display=&#x27;none&#x27;; &#125; &#125;);    &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\n\n\n\nğŸ§ æ€»ç»“ä¸å±•æœ›è¿™æ¬¡å®éªŒè®©æˆ‘å¯¹ Gemini 3 Pro çš„ä»£ç ç”Ÿæˆèƒ½åŠ›æœ‰äº†æ–°çš„è®¤è¯†ã€‚å®ƒä¸ä»…ä»…æ˜¯åœ¨å †ç Œ APIï¼Œæ›´æ˜¯åœ¨ç†è§£ç³»ç»Ÿé€»è¾‘ï¼š\n\nå›¾å½¢å­¦ç›´è§‰ï¼šå®ƒçŸ¥é“ç²’å­çš„è¿åŠ¨ä¸èƒ½ç”Ÿç¡¬ç¬ç§»ï¼Œå¿…é¡»ä½¿ç”¨æ’å€¼ï¼ˆLerpï¼‰æ‰èƒ½è·å¾—å¹³æ»‘çš„ç‰©ç†æ‰‹æ„Ÿã€‚\näº¤äº’å®¡ç¾ï¼šå®ƒæ‡‚å¾— UI ä¸åº”é®æŒ¡ 3D åœºæ™¯ï¼Œå› æ­¤è‡ªåŠ¨é€‰æ‹©äº†ç»ç’ƒæ‹Ÿæ€ï¼ˆGlassmorphismï¼‰é£æ ¼ã€‚\nå·¥ç¨‹æ€ç»´ï¼šå®ƒç”šè‡³è€ƒè™‘åˆ°äº†ç”¨æˆ·ä½“éªŒï¼Œæ·»åŠ äº† Loading åŠ¨ç”»ã€å…¨å±æç¤ºä»¥åŠé”™è¯¯å¤„ç†ã€‚\n\nå¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒAI å¹¶ä¸æ˜¯è¦å•çº¯åœ°å–ä»£æˆ‘ä»¬ï¼Œè€Œæ˜¯æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚ä»¥å‰ä»æ„æ€åˆ°å®ç°è¿™ä¸ª Demo å¯èƒ½éœ€è¦ä¸¤å¤©ï¼Œç°åœ¨åªéœ€è¦ 10 åˆ†é’Ÿã€‚\n\n\nç‰ˆæƒå£°æ˜ï¼šæœ¬åšå®¢æ‰€æœ‰ä»£ç å‡ç”± AI è¾…åŠ©ç”Ÿæˆï¼Œæ¬¢è¿å¤åˆ¶ä½“éªŒï¼\n\n\n/* é’ˆå¯¹ Next ä¸»é¢˜ (.post-body) å¼ºåˆ¶å»é™¤è¡¨æ ¼è¾¹æ¡† */\n.post-body table, \n.post-body th, \n.post-body td, \n.post-body tr {\n    border: 0 !important;       /* å»æ‰è¾¹æ¡† */\n    background: none !important; /* å»æ‰éš”è¡Œå˜è‰²çš„ç°è‰²èƒŒæ™¯ */\n}\n\n/* å³ä½¿é¼ æ ‡æ‚¬åœä¹Ÿä¸è¦æ˜¾ç¤ºèƒŒæ™¯è‰² */\n.post-body tr:hover {\n    background: none !important;\n}\n\n/* å»æ‰è¡¨å¤´çš„åº•éƒ¨ç²—çº¿ */\n.post-body thead th {\n    border-bottom: none !important;\n}\n\n/* è°ƒæ•´å›¾ç‰‡åœ¨è¡¨æ ¼é‡Œçš„å¯¹é½æ–¹å¼ï¼Œè®©å®ƒä»¬é¡¶ç«¯å¯¹é½ */\n.post-body td {\n    vertical-align: top !important; \n    padding: 10px 5px !important; /* è°ƒæ•´é—´è· */\n}\n\n","categories":["åˆ›æ„ç¼–ç¨‹"],"tags":["Three.js","WebGL","MediaPipe","AIGC","Gemini"]}]